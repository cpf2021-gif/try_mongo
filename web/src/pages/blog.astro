---
import { getPosts } from './api/data'
import Layout from '../layouts/Layout.astro';

const response = await getPosts()
const allPosts = await response.json()
---

<Layout title="My blog Content">
	<h1>blog list</h1>

	<div class="container">
		<ul>
			{
				allPosts ? (
				allPosts.map((post) => (
				<li class="list">
					<a href={`/data/${post.id}`}>{post.title}</a>
				</li>
				))	
				) : 
				<p>暂时没有内容</p>
			}
		</ul>	
	</div>

	<div class="container">
		<a href="/">Back to home</a>
	</div>
</Layout>

<style>
	h1 {
		line-height: 1;
		text-align: center;
		margin-bottom: 1em;
	}

	.container {
		display: flex;
		justify-content: center;
	}

	.list {
  		list-style: none;
  		padding: 0;
  		display: flex;
  		flex-direction: column;
  		align-items: center; /* 列表项居中 */
	}

	ul {
		padding: 0;
	}

	li {
		margin: 10px 0;
	}

	a {
		text-decoration: none;
	}

</style>